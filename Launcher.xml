<?xml version="1.0" encoding="UTF-8" ?>
<Module>
<ModulePrefs title="Google.m" />
<Content type="html"><![CDATA[
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Launcher</title> 
  <style>
    body {
      background-color: #1e1e1e;
      color: #f0f0f0;
      font-family: sans-serif;
      margin: 0;
      padding: 20px;
    }
    .button-container {
      display: flex;
      flex-wrap: wrap;
      gap: 16px;
    }
    .fancy-button {
      width: 200px;
      height: 60px;
      border: 2px solid #8a85ff;
      border-radius: 8px;
      background-color: #2b2b2b;
      color: #8a85ff;
      font-size: 15px;
      font-weight: 600;
      letter-spacing: 1px;
      text-transform: uppercase;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 2px 4px 12px rgba(0, 0, 0, 0.4);
      flex-shrink: 0;
    }
    .fancy-button:hover {
      background-color: #8a85ff;
      color: #1e1e1e;
      transform: translateY(-2px);
      box-shadow: 2px 6px 16px rgba(0, 0, 0, 0.5);
    }
  </style>
</head>
<body>
  <div class="button-container" id="launcher"></div>

  <script>
    const ROOT_URL = 'https://jjjwelch420.github.io/Launcher/';
    const games = [
      { id: 'basket-random', label: 'Basket Random' },
      { id: 'stick-war', label: 'Stick War' },
      { id: 'ARC', label: 'ARC' },
      { id: 'granny', label: 'Granny' },
      { id: 'granny-2', label: 'Granny 2' },
      { id: 'granny-3', label: 'Granny 3' },
      { id: 'racing', label: 'Racing' },
      { id: 'runner', label: 'Sprinter Flash' },
      { id: 'minecraft', label: 'Minecraft' },
      { id: 'gunspin', label: 'Gun Spin' },
      { id: 'OvO', label: 'OvO' },
      { id: 'Cookie', label: 'Cookie Clicker' },
      { id: 'SM64', label: 'Super Ah 64' },
      { id: 'Drift-RU', label: 'Drift Hunters' },
      { id: 'ETD', label: 'Earn To Die (W.I.P)' },
      { id: 'Riddle-School/Riddle-School', label: 'Riddle School W.I.P' },
      { id: 'Funny2', label: 'Funny Shooter' }
    ];

    function createLauncherUI() {
      const container = document.getElementById('launcher');
      games.forEach(game => {
        const wrapper = document.createElement('div');
        wrapper.style.display = 'flex';
        wrapper.style.alignItems = 'center';
        wrapper.style.gap = '8px';

        const checkbox = document.createElement('input');
        checkbox.type = 'checkbox';
        checkbox.id = `check-${game.id}`;
        checkbox.checked = false;

        const button = document.createElement('button');
        button.className = 'fancy-button';
        button.textContent = game.label;
        button.onclick = () => launchGame(game.id);

        wrapper.appendChild(checkbox);
        wrapper.appendChild(button);
        container.appendChild(wrapper);
      });
    }

    async function fetchHTMLFromXML(url) {
      try {
        const response = await fetch(url);
        const xmlText = await response.text();
        const parser = new DOMParser();
        const xmlDoc = parser.parseFromString(xmlText, 'application/xml');
        const contentNode = xmlDoc.querySelector('Content');
        return contentNode?.textContent || '<p>Error loading content</p>';
      } catch (error) {
        console.error('Failed to fetch XML:', error);
        return '<p>Failed to load XML content</p>';
      }
    }

    async function launchGame(gameId) {
      const checkbox = document.getElementById(`check-${gameId}`);
      if (!checkbox.checked) {
        alert('Enable the checkbox to launch this game.');
        return;
      }

      const fullURL = ROOT_URL + 'Ports/' + gameId + '.xml';
      const htmlContent = await fetchHTMLFromXML(fullURL);

      const iframe = document.createElement('iframe');
      iframe.style.position = 'fixed';
      iframe.style.top = '0';
      iframe.style.left = '0';
      iframe.style.width = '100vw';
      iframe.style.height = '100vh';
      iframe.style.border = 'none';
      iframe.style.zIndex = '9999';
      document.body.appendChild(iframe);

      const iframeDoc = iframe.contentWindow.document;
      iframeDoc.open();
      iframeDoc.write(htmlContent);
      iframeDoc.close();

      if (iframe.requestFullscreen) {
        iframe.requestFullscreen();
      } else if (iframe.webkitRequestFullscreen) {
        iframe.webkitRequestFullscreen();
      } else if (iframe.mozRequestFullScreen) {
        iframe.mozRequestFullScreen();
      } else if (iframe.msRequestFullscreen) {
        iframe.msRequestFullscreen();
      }

      document.addEventListener('fullscreenchange', () => {
        if (!document.fullscreenElement && iframe.parentNode) {
          iframe.remove();
        }
      });
    }

    createLauncherUI();
  </script>
</body>

</html>

]]></Content>
</Module>
